# 项目指南

## 项目简介

Sales Nail 是一个基于Vue 3和TypeScript的现代化Web应用，主要功能包括：
- AI对话功能
- 提示词生成
- 历史记录管理
- 配置管理

## 快速开始

### 环境要求
- Node.js >= 14.0.0
- Vue.js 3.x
- TypeScript 4.x

### 安装依赖
```bash
npm install
```

### 开发服务器
```bash
npm run dev
```

### 构建项目
```bash
npm run build
```

## 项目结构
```
test/
├── public/                # 静态资源
│   └── sn4+3.json        # SN43默认配置
├── src/
│   ├── views/            # 页面组件
│   │   └── sn43/         # SN43模块
│   ├── components/       # 通用组件
│   │   └── HistoryPanel  # 历史记录面板
│   ├── composables/      # 组合式函数
│   │   └── useHistory    # 历史记录管理
│   ├── types/           # 类型定义
│   └── api/             # API接口
└── README.md            # 项目文档
```

## 开发规范

### 1. 布局规范
- 顶部导航栏固定高度为60px
- 页面组件需要考虑导航栏高度，内容区域高度应为calc(100vh - 60px)
- 所有容器都应使用box-sizing: border-box
- 避免使用absolute定位，优先使用flex布局

### 2. 组件开发规范
- 使用TypeScript进行类型定义
- 组件采用Composition API风格
- 保持组件的单一职责
- 提供完整的Props和Events文档

### 3. 状态管理规范
- 使用组合式函数管理复杂逻辑
- 合理使用响应式API
- 避免组件间直接通信
- 集中管理共享状态

### 4. 样式开发规范
- 使用scoped样式隔离
- 采用CSS变量实现主题定制
- 遵循BEM命名规范
- 使用layout.css管理通用样式

## 最佳实践

### 1. 提示词处理
- **执行功能使用建议**
  - 适用于需要完整执行所有提示词块的场景
  - 利用缓存机制避免重复处理
  - 按顺序处理所有块，确保结果的一致性
  - 注意合理组织提示词块的顺序

- **预览功能使用建议**
  - 用于调试和验证单个提示词块
  - 利用递归处理验证引用关系
  - 实时预览效果，快速调整内容
  - 适合开发和测试阶段使用

### 2. 组件复用
- 提供清晰的Props和Events接口
- 使用TypeScript类型定义
- 保持组件的独立性
- 避免跨级组件通信

### 3. 性能优化
- 合理的组件拆分
- 最小化状态更新
- 及时的资源释放
- 使用懒加载

### 3. 错误处理
- 统一的错误提示
- 合理的恢复机制
- 完善的错误日志

## 注意事项

1. **存储管理**
   - 使用唯一的storage-key
   - 注意存储大小限制
   - 定期清理无用数据

2. **配置管理**
   - 确保public目录下存在必要的配置文件
   - 使用正确的配置文件格式
   - 注意配置文件的权限设置

3. **滚动区域处理**
   - 使用overflow-y: auto而不是scroll
   - 为滚动容器设置合适的padding
   - 长文本内容使用overflow-wrap: break-word
   - 考虑自定义滚动条样式
